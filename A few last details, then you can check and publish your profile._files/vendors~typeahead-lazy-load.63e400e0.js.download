(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{1010:function(e,t,n){"use strict";n.r(t);var o=n(293),l=n.n(o),r={"en-gb":n(872),en:n(873),is:n(874)},d=n(194),h=n(122),input=n(142),c=n(43),m=n(219),f=n(202);const y=()=>Promise.all([n.e(0),n.e(135),n.e(55)]).then(n.bind(null,1049)).then((e=>e.default||e)),k=()=>Promise.all([n.e(2),n.e(41),n.e(58)]).then(n.bind(null,615)).then((e=>e.default||e));var v={name:"UpCTypeaheadScreenAdapter",props:{open:{type:Boolean,default:!1},transitionMode:{type:Boolean,default:!1},embedded:{type:Boolean,default:!1},title:{type:String,default:""},inputId:{type:String,default:""}},data:()=>({UpCBottomSheet:y,UpCDropdownMobileHeader:k,offClickOutside:null,id:null,canBlur:!0}),watch:{open(e){e&&this.embedded&&this.bottomSheetOpen()}},mounted(){this.$refs.container&&(this.offClickOutside=Object(f.a)(this.$refs.container,this.onClickOutside)),this.id=Object(c.a)().toString()},beforeDestroy(){this.offClickOutside&&this.offClickOutside()},methods:{onClickOutside(){this.transitionMode||this.$emit("close")},blur(e){this.$refs.container&&!this.$refs.container.contains(e.relatedTarget)&&this.canBlur&&this.onClickOutside()},bottomSheetOpen(){this.$emit("bottom-sheet-open")},bottomSheetClose(e){this.$emit("bottom-sheet-close",e)},getComponent(){return this.transitionMode&&!this.embedded?(this.UpCDropdownMobileHeader(),this.UpCBottomSheet):"span"},mouseDown(e){this.canBlur=!this.$refs.container.contains(e.target)},mouseUp(){setTimeout((()=>{this.canBlur=!0}),0)}}},S=n(8),component=Object(S.a)(v,(function(){var e=this,t=e._self._c;return t("div",{ref:"container",on:{"!blur":function(t){return e.blur.apply(null,arguments)},mousedown:e.mouseDown,mouseup:e.mouseUp}},[!e.transitionMode||e.open&&e.embedded?e._e():e._t("transition-input"),e._v(" "),e.transitionMode&&e.open||!e.transitionMode?t(e.getComponent(),{tag:"component",attrs:{open:e.transitionMode&&e.open,"focus-element-id":e.inputId,classes:["air3-typeahead-bottom-sheet-container",{"has-min-height":e.transitionMode&&!e.embedded}],"aria-labelledby":"typeahead-mobile-label-".concat(e.id)},on:{"bottom-sheet-opened":e.bottomSheetOpen,"bottom-sheet-closed":e.bottomSheetClose}},[t("div",{staticClass:"air3-dropdown-header-container has-search"},[e.transitionMode&&e.open&&!e.embedded?t(e.UpCDropdownMobileHeader,{tag:"component",staticClass:"air3-typeahead-menu-mobile-header",attrs:{id:"typeahead-mobile-label-".concat(e.id),title:e.title},on:{close:e.bottomSheetClose}}):e._e(),e._v(" "),e.transitionMode&&!e.embedded?t("div",{staticClass:"air3-typeahead-mobile-input-wrapper"},[e._t("input")],2):e._e()],1),e._v(" "),!e.transitionMode||e.embedded?t("div",[e._t("input")],2):e._e(),e._v(" "),e._t("default")],2):e._e(),e._v(" "),e._t("connector")],2)}),[],!1,null,null,null),C=component.exports,I=n(254);function M(e,t,n){return n.key===e||n.which===t||n.keyCode===t}const w=()=>Promise.all([n.e(28),n.e(159)]).then(n.bind(null,504)).then((e=>e.default||e));var x={injectStyles:[l.a],name:"UpCTypeaheadLazyLoad",components:{UpCTypeaheadScreenAdapter:C,UpCTypeaheadInputFake:m.a,UpCIcon:h.default,UpCInput:input.a},i18n:{messages:r},mixins:[I.a],props:{value:{type:Object,default:null},items:{type:Array,required:!0},sortMenuItems:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},hasClearButton:{type:Boolean,default:!0},placeholder:{type:String,default:""},title:{type:String,default:""},invalid:{type:Boolean},disabled:{type:Boolean},inputFormatter:{type:Function,default:null},closeAfterSelection:{type:Boolean,default:!0},editable:{type:Boolean,default:!0},itemKey:{type:String,default:"id"},searchField:{type:String,default:"label"},secondarySearchField:{type:String,default:""},searchSublabel:{type:String,default:""},initialInputValue:{type:String,default:""},ariaLabelledby:{type:String,default:null},ariaDescribedby:{type:String,default:null},ariaRequired:{type:Boolean,default:!1},isTokenizer:{type:Boolean,default:!1},hideEmptyText:{type:Boolean,default:!1},resetQueryOnDelete:{type:Boolean,default:!0},isMobile:{type:Boolean,default:!1},htmlAsText:{type:Boolean,default:!1},maxInputLength:{type:Number,default:null},selectOnlyItemOnEnter:{type:Boolean,default:!1},isInputValid:{type:Function,default:()=>{}},getOriginData:{type:Function,default:()=>{}},skipClick:{type:Boolean,default:!1}},data(){return{UpCMenu:w,input:this.initialInputValue,itemIndex:null,isDesktopOpened:!1,isTransitionActive:!1,isBottomSheetOpened:!1,isSlotConnectionActive:!0,itemCount:null,isMenuListHidden:!1,id:null,message:"",debounce:null,isMobileMenuClosing:!1,isFocusable:!0,inputId:null}},computed:{slotConnector(){return this.getSlotConnector()},searchedItems(){return this.items.map((e=>{const t={...e};return this.value&&t[this.itemKey]===this.value[this.itemKey]&&(t.isChecked=!0),t}))},isTransitionMode(){return this.isMobile},showLoading(){return this.loading&&(this.isDesktopOpened||this.isBottomSheetOpened)},showMenuDecoration(){return this.$slots["menu-decoration"]},ariaDescribedbyLabel(){const e="typeahead-input-control-".concat(this.id,"-menu-decoration");return this.showMenuDecoration?[this.ariaDescribedby,e].filter(Boolean).join(" ")||"":this.ariaDescribedby}},watch:{items:{immediate:!0,handler(e){this.setItemList(e),this.emitItemsLength()}},initialInputValue(e){this.input=e}},mounted(){this.isSlotConnectionActive=this.slotConnector.connect(this,"connectToTypeahead",this.$refs.connector),this.open(),this.id=Object(c.a)().toString(),this.inputId="typeahead-input-".concat(Object(c.a)().toString())},beforeDestroy(){this.slotConnector.disconnect()},methods:{isInputMatchValue(){return Boolean(this.value&&this.input&&this.getValueAsString()===this.input)},reset(){this.resetSelection(),this.$nextTick((()=>{this.resetInputValue()})),setTimeout((()=>{this.open(!0)}),0)},resetSelection(){this.emit("input",null)},open(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isFocusable=!1,this.isMobileMenuClosing?this.isMobileMenuClosing=!1:(this.isMenuListHidden=!1,this.isTransitionMode?this.isTransitionActive||(this.isTransitionActive=!0,this.emit("typeahead-open","mobile"),this.$nextTick((()=>{this.openNativeKeyboard(this.$refs.inputFake.$el)}))):this.isDesktopOpened||(this.isDesktopOpened=!0,!0!==e&&(this.$refs.input.focus(),this.skipClick||this.$refs.input.click()),this.emit("typeahead-open","desktop")),this.resetMenuIndex())},close(){let source=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isFocusable=!0,this.isTransitionMode?this.isTransitionActive&&(this.isTransitionActive=!1,this.isBottomSheetOpened=!1,this.emit("typeahead-close","mobile",source)):this.isDesktopOpened&&(this.isDesktopOpened=!1,this.emit("typeahead-close","desktop",source))},emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.$emit(e,...n),this.slotConnector.notifyParent(e,...n)},setItemList(e){this.items=e},resetInputValue(){this.emit("typeahead-input-reset")},getValueAsString(){return this.value&&this.inputFormatter(this.value)||""},isMenuShown(){return(this.isDesktopOpened||this.isTransitionActive)&&this.isInputValid()&&!this.isMenuListHidden},isMenuShownWithItems(){return this.isMenuShown()&&this.searchedItems.length},onInputFocus(e){this.resetMenuIndex(),this.emit("typeahead-input-focus",e),this.open(!0)},onInputBlur(e){this.emit("typeahead-input-blur",e)},onMenuUpdated(e){clearTimeout(this.debounce);const t=e>0?this.$tc("vc_FiltereditemslengthResults_1",e):null;this.debounce=setTimeout((()=>{this.broadcastSRMessage(t)}),1e3)},onInput(e){const t=e.target.value;this.input!==t&&(this.input=t),this.resetMenuIndex(),this.emit("typeahead-input-value",t)},onItemSelect(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.getOriginData(e);n.isHeader||(this.input=this.inputFormatter(n),this.emit("input",n),this.isTokenizer?(this.$refs.input.value="",this.$refs.input.dispatchEvent(new Event("input"))):this.$refs.input.dispatchEvent(new CustomEvent("input",{detail:n})),this.closeAfterSelection&&!this.isSlotConnectionActive&&(this.isMobile?t||this.closeBottomSheet():(this.close(),this.focusInput(),this.isDesktopOpened=!1)))},onArrowDown(){this.isMenuShownWithItems()&&this.$refs.menu.onMenuFocus()},onClearKeyDown(e){switch(e.keyCode){case 40:this.onArrowDown(),e.preventDefault();break;case 27:this.onEsc()}},onEnter(){const e=this.$refs.menu.getActiveIndex();if(this.isEditableCandidate()){const e={isCustom:!0};e[this.searchField]=this.input,this.onItemSelect(e,!0)}else if(this.isMenuShownWithItems()){const t=this.searchedItems[e];if(t&&!t.isHeader)this.onItemSelect(t,!0);else if(this.selectOnlyItemOnEnter){const e=this.searchedItems.filter((e=>!e.isHeader));1===e.length&&this.onItemSelect(e[0],!0)}}this.editable&&this.emit("submit")},onDelete(){if(this.value)if(this.emit("typeahead-input-delete",this.input),this.resetQueryOnDelete)this.reset();else{const{input:input}=this,e=this.$refs.input.selectionStart;this.resetSelection(),this.$nextTick((()=>{this.onInput({target:{value:input}})})),setTimeout((()=>{this.$refs.input.setSelectionRange(e,e)}),0)}this.open()},onKeyDown(e){this.emit("typeahead-input-keydown",e),M("Escape",27,e)||function(e){return M("Tab",9,e)}(e)||(this.isMenuListHidden=!1)},onKeyUp(e){this.emit("typeahead-input-keyup",e)},isEditableCandidate(){return this.editable&&this.input&&this.isInputValid()&&!this.isInputMatchValue()&&-1===this.getMenuItemIndex()},onEsc(){this.isTransitionMode?(this.close("key-escape"),this.isMobileMenuClosing=!0,this.isSlotConnectionActive||this.$nextTick((()=>this.focusInput()))):this.isMenuListHidden=!0},onEscOnMenu(){this.isSlotConnectionActive||this.focusInput()},resetMenuIndex(){this.isMenuShown()&&this.$refs.menu&&this.$refs.menu.resetIndex()},closeBottomSheet(e){this.isBottomSheetOpened=!1,this.emit("typeahead-close-bottom-sheet"),e?this.close("key-escape"):this.close(),this.isMobileMenuClosing=!0,this.$nextTick((()=>{this.isFocusable=!0,this.focusInput()}))},openBottomSheet(){this.isBottomSheetOpened=!0,this.emit("typeahead-open-bottom-sheet"),this.$nextTick((()=>{this.removeFakeInput(this.$refs.inputFake.$el),this.$refs.inputFake.setInputFocus()}))},getMenuItemIndex(){return this.isMenuShownWithItems()?this.$refs.menu.getActiveIndex():-1},emitItemsLength(){this.itemCount!==this.items.length&&(this.itemCount=this.items.length,this.emit("typeahead-item-count",this.items.length))},getSlotConnector(){return this.slotConnectorInstance||(this.slotConnectorInstance=new d.a),this.slotConnectorInstance},focusInput(){this.isTransitionMode&&!this.isSlotConnectionActive?this.$refs.inputFake.$refs.input.focus():(this.$refs.input||this.$refs.inputFake.$refs.input).focus()},broadcastSRMessage(e){this.message=e,this.$emit("filter-message",e),setTimeout((()=>{this.message=""}),1e3)}}},O=x,T=Object(S.a)(O,(function(){var e=this,t=e._self._c;return t("UpCTypeaheadScreenAdapter",{attrs:{open:e.isTransitionActive,embedded:e.isSlotConnectionActive,title:e.title||e.placeholder||"Select","transition-mode":e.isTransitionMode,"input-id":e.inputId},on:{"bottom-sheet-open":e.openBottomSheet,"bottom-sheet-close":e.closeBottomSheet,close:e.close},scopedSlots:e._u([{key:"transition-input",fn:function(){return[t("UpCTypeaheadInputFake",{ref:"inputFake",attrs:{"is-focusable":e.isFocusable,input:e.input,"aria-labelledby":e.ariaLabelledby,placeholder:e.placeholder,"show-reset-icon":!e.loading,invalid:e.invalid,disabled:e.disabled,"has-clear-button":e.hasClearButton},on:{keydown:e.open,click:e.open,focus:e.open,reset:e.reset},scopedSlots:e._u([e.$slots["left-icon"]?{key:"left-icon",fn:function(){return[e._t("left-icon")]},proxy:!0}:null],null,!0)})]},proxy:!0},{key:"input",fn:function(){return[t("div",{class:{"is-mobile":e.isMobile},on:{keydown:e.onKeyDown,keyup:e.onKeyUp}},[t("UpCInput",{ref:"typeahead-lazy-load-input",attrs:{"is-loading":e.showLoading,disabled:e.disabled,"has-clear-button":e.hasClearButton},on:{"clear-keydown":e.onClearKeyDown,clear:e.reset},scopedSlots:e._u([e.$slots["left-icon"]?{key:"left-icon",fn:function(){return[e._t("left-icon")]},proxy:!0}:null],null,!0)},[e._v(" "),t("input",{directives:[{name:"show",rawName:"v-show",value:!e.isTransitionMode||e.isTransitionActive,expression:"!isTransitionMode || isTransitionActive"},{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"air3-typeahead-input-main air3-input",class:{"has-error":e.invalid},attrs:{slot:"input",id:e.inputId,role:"combobox","aria-autocomplete":"list",maxlength:e.maxInputLength,"aria-required":e.ariaRequired,"aria-expanded":e.isMenuShown()?"true":"false","aria-controls":"typeahead-input-control-".concat(e.id),"aria-owns":"typeahead-input-control-".concat(e.id),"aria-labelledby":e.ariaLabelledby,"aria-describedby":e.ariaDescribedbyLabel,type:"search",placeholder:e.placeholder,disabled:e.disabled,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","data-ev-label":"typeahead_input"},domProps:{value:e.input},on:{focus:e.onInputFocus,click:e.onInputFocus,blur:e.onInputBlur,input:[function(t){t.target.composing||(e.input=t.target.value)},e.onInput],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.onDelete.apply(null,arguments)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.onEnter.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.onEsc.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.onArrowDown.apply(null,arguments))}]},slot:"input"})])],1)]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"air3-typeahead",class:{"is-open":e.isMenuShown()}},[t("div",{class:{"air3-dropdown-menu-container":!e.isTransitionMode&&e.isDesktopOpened}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isMenuShown(),expression:"isMenuShown()"}],staticClass:"air3-typeahead-menu-list-container",class:{"air3-typeahead-dropdown-menu":!e.isTransitionMode,"air3-typeahead-slot-dropdown-menu":e.isSlotConnectionActive},on:{"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onEscOnMenu.apply(null,arguments)}}},[t(e.UpCMenu,{ref:"menu",tag:"component",attrs:{id:"typeahead-input-control-".concat(e.id),"aria-labelledby":e.ariaLabelledby,items:e.searchedItems,"sort-menu-items":e.sortMenuItems,index:e.itemIndex,"show-no-results":e.input!==e.getValueAsString()&&!e.hideEmptyText,"inline-header":!0,"item-key":e.itemKey,"item-text":e.searchField,"html-as-text":e.htmlAsText,"item-sublabel":e.searchSublabel,loading:e.loading,"disable-check-mark":!0,"is-mobile":e.isMobile,"checkable-behavior":"single"},on:{"menu-focus-up":e.focusInput,"menu-updated":e.onMenuUpdated,select:e.onItemSelect,close:e.onEsc},scopedSlots:e._u([e.$slots["no-result-icon"]?{key:"no-result-icon",fn:function(){return[e._t("no-result-icon")]},proxy:!0}:null,e.$slots["no-result-text"]?{key:"no-result-text",fn:function(){return[e._t("no-result-text")]},proxy:!0}:null,e.$slots["menu-decoration"]?{key:"menu-decoration",fn:function(){return[e._t("menu-decoration")]},proxy:!0}:null],null,!0)})],1)]),e._v(" "),t("div",{staticClass:"sr-only",attrs:{"aria-live":"polite"}},[e.isMenuShown()?t("span",[e._v(e._s(e.message))]):e._e()])])]},proxy:!0},{key:"connector",fn:function(){return[e.isSlotConnectionActive?t("input",{ref:"connector",attrs:{type:"hidden"},on:{"typeahead-reset":e.reset,"typeahead-open":e.open,"typeahead-close":e.close,"typeahead-focus":e.focusInput}}):e._e()]},proxy:!0}])})}),[],!1,null,null,null);t.default=T.exports},202:function(e,t,n){"use strict";function o(element,e,t){function n(e){const path=e.composedPath&&e.composedPath()||e.path;return Array.isArray(path)&&path.indexOf(element)<0?t(e):null}return e.forEach((e=>{document.body.addEventListener(e,n)})),()=>{e.forEach((e=>{document.body.removeEventListener(e,n)}))}}function l(element,e){return o(element,["click"],e)}function r(element,e){return o(element,["mouseup","touchend"],e)}n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return r}))},254:function(e,t,n){"use strict";t.a={data:()=>({fakeElement:null}),methods:{openNativeKeyboard(e){this.fakeElement=document.createElement("input"),this.fakeElement.style.position="absolute",this.fakeElement.style.opacity=0,this.fakeElement.setAttribute("aria-label","fake-focus-input"),(e||document.body).appendChild(this.fakeElement),this.fakeElement.focus(),this.fakeElement.click()},removeFakeInput(e){this.fakeElement&&((e||document.body).removeChild(this.fakeElement),this.fakeElement=null)}}}},872:function(e){e.exports=JSON.parse("{}")},873:function(e){e.exports=JSON.parse('{"vc_FiltereditemslengthResults_1":"{count} result filtered | {count} results filtered"}')},874:function(e){e.exports=JSON.parse("{}")}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/FreelancerOnboardingNuxt/vendors~typeahead-lazy-load.63e400e0.js.map