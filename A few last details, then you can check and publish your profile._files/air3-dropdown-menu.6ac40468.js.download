(window.webpackJsonp=window.webpackJsonp||[]).push([[56,58,159],{1008:function(e,t,n){"use strict";n.r(t);var o=n(615),r=n(138),l=n.n(r),c=n(876),h=n.n(c),d={"en-gb":n(878),en:n(879),is:n(880)},m={injectStyles:[l.a,h.a],name:"UpCDropdownMobileFooter",i18n:{messages:d},methods:{close(){this.$emit("close")}}},f=n(8),v=Object(f.a)(m,(function(){var e=this,t=e._self._c;return t("div",e._g({staticClass:"air3-dropdown-footer"},e.$listeners),[t("button",{staticClass:"air3-btn air3-btn-primary",attrs:{"data-test":"dropdown-footer-close",type:"button"},on:{click:e.close}},[t("span",[e._v(e._s(e.$t("vc_Done_6")))])])])}),[],!1,null,null,null).exports,x=n(122),I=n(291),input=n(142),y=n(881),k=n.n(y),M=n(172),C=n.n(M),S=n(43),$={"en-gb":n(883),en:n(884),is:n(885)},_={injectStyles:[k.a,C.a,l.a],name:"UpCDropdownSearch",components:{UpCIcon:x.default,UpCInput:input.a},i18n:{messages:$},props:{placeholder:{type:String,default:null},label:{type:String,default(){return this.$t("vc_Search")}},loading:{type:Boolean,default:!1},hasEmptyList:{type:Boolean,default:!1},controlsId:{type:String,default:null},autocomplete:{type:String,default:"off"},isMobile:{type:Boolean,default:!1}},data:()=>({iconSearch:I.a,searchTxt:"",id:null}),watch:{searchTxt:{immediate:!0,handler(e,t){void 0!==t&&this.$emit("search",this.searchTxt)}}},mounted(){this.id=Object(S.a)().toString()},methods:{onInput(e){this.searchTxt!==this.$refs.input.value&&(this.searchTxt=this.$refs.input.value),this.$refs["dropdown-search-input"].onChangeInput(e)},onMenuKeydown(e){const t=e.keyCode;switch(t){case 40:this.setMenuFocus(t),e.preventDefault();break;case 36:case 35:e.stopPropagation(),this.setMenuFocus(t),e.preventDefault();break;case 27:e.stopPropagation(),this.onClose()}},onClose(){this.$emit("close")},setMenuFocus(e,t){this.$emit("focus-menu",e,t)},onInputFocus(){this.$emit("input-focused")},setFocus(){this.$refs.input.focus()}}},w=Object(f.a)(_,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"air3-dropdown-search"},[t("UpCInput",{ref:"dropdown-search-input",attrs:{"is-loading":e.loading,"has-clear-button":!0}},[t("template",{slot:"left-icon"},[t("UpCIcon",{attrs:{icon:e.iconSearch,"data-test":"search-icon"}}),e._v(" "),t("span",{attrs:{id:"search-dropdown-label-".concat(e.id),hidden:""}},[e._v(e._s(e.label))])],1),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTxt,expression:"searchTxt"}],ref:"input",staticClass:"air3-input",class:{"air3-empty-search-input":e.hasEmptyList,"air3-input-sm":!e.isMobile},attrs:{slot:"input",type:"search",role:"combobox","aria-autocomplete":"list","aria-expanded":"true",autocomplete:e.autocomplete,"aria-controls":e.controlsId,"aria-owns":e.controlsId,"aria-labelledby":"search-dropdown-label-".concat(e.id),placeholder:[[e.placeholder]],enterkeyhint:"search"},domProps:{value:e.searchTxt},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.blur()},function(t){return e.onMenuKeydown(t)}],focus:e.onInputFocus,input:[function(t){t.target.composing||(e.searchTxt=t.target.value)},e.onInput]},slot:"input"})],2)],1)}),[],!1,null,null,null).exports,menu=n(504),T=n(886),O={injectStyles:[n.n(T).a],name:"UpCGroup",components:{UpCMenu:menu.default},props:{id:{type:String,default:""},index:{type:Number,required:!0,default:0},title:{type:String,default:""},items:{type:Array,default:()=>[]},checkableBehavior:{type:String,validator:e=>["single","multiple","none"].includes(e),default:"none"},itemLink:{type:String,default:""},itemKey:{type:String,default:""},itemText:{type:String,default:""},itemSublabel:{type:String,default:""},search:{type:Boolean,default:!1},isAllGroupsEmpty:{type:Boolean,default:!1},ariaLabelledby:{type:String,default:null},isMobile:{type:Boolean,default:!1},groupDividers:{type:Boolean,default:!1}},data:()=>({ariaLabelledbyId:null,totalSearchResults:null}),computed:{ariaLabels(){const e=this.title&&"group-label-".concat(this.ariaLabelledbyId);return[this.ariaLabelledby,e].filter(Boolean).join(" ")||!1},hasMenuItems(){return Boolean(this.items.length)}},mounted(){this.ariaLabelledbyId=Object(S.a)().toString()},methods:{onItemSelect(e){this.$emit("group-select",{groupId:this.id,checkableBehavior:this.checkableBehavior,item:e})},onMenuUpdated(e){this.totalSearchResults=e,this.$emit("group-updated",e)},onMenuLoaded(){this.$emit("menu-loaded")},onFocusOtherGroup(e,t){this.$emit("focus-group",this.index,e,t)},onFocusGroupHome(){this.$emit("focus-group-home")},resetIndex(){this.$refs.menu.resetIndex()},onFocusGroupEnd(){this.$emit("focus-group-end")},setMenuFocus(e){switch(e){case 40:this.$refs.menu.onMenuFocus();break;case 36:this.$refs.menu.onHomeOption();break;case 35:this.$refs.menu.onEndOption()}},resetMenuActiveMenuIndex(){this.$refs.menu.resetMenuActiveMenuIndex()},onClose(){this.$emit("close")}}},F=Object(f.a)(O,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"air3-group",class:{"is-empty":!e.hasMenuItems&&(e.index>0||0===e.index&&!e.isAllGroupsEmpty),"has-border":e.groupDividers,"has-title":e.title,"is-below-search":e.search&&0===e.index},attrs:{"data-ev-sublocation":"!group"}},[e.title?t("div",{staticClass:"air3-group-header",class:{"is-empty":!e.hasMenuItems&&0===e.index&&e.isAllGroupsEmpty},attrs:{id:"group-label-".concat(e.ariaLabelledbyId),"data-test":"title"}},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e(),e._v(" "),t("UpCMenu",{ref:"menu",staticClass:"air3-group-menu-container",attrs:{"aria-labelledby":e.ariaLabels,"data-test":"menu",items:e.items,"item-key":e.itemKey,"item-text":e.itemText,"item-link":e.itemLink,"item-sublabel":e.itemSublabel,search:e.search,"checkable-behavior":e.checkableBehavior,mixed:!0,"is-mobile":e.isMobile},on:{select:e.onItemSelect,"focus-group":e.onFocusOtherGroup,"focus-group-home":e.onFocusGroupHome,"focus-group-end":e.onFocusGroupEnd,"menu-loaded":e.onMenuLoaded,"menu-updated":e.onMenuUpdated,close:e.onClose}})],1)}),[],!1,null,null,null).exports,N=n(210),L={name:"UpCDropdownMenuStandard",components:{UpCDropdownMobileHeader:o.default,UpCDropdownMobileFooter:v,UpCDropdownSearch:w,UpCMenu:menu.default,UpCGroup:F},i18n:{messages:N.a},props:{items:{type:Array,default:()=>[]},sortMenuItems:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},groupDividers:{type:Boolean,default:!1},checkableBehavior:{type:String,default:"single"},title:{type:String,default:null},isNested:{type:Boolean,default:!1},search:{type:Boolean,default:!1},searchPlaceholder:{type:String,default:null},searchLabel:{type:String,default(){return this.$t("vc_Search")}},loading:{type:Boolean,default:!1},itemLink:{type:String,default:""},itemKey:{type:String,default:""},itemText:{type:String,default:""},itemSublabel:{type:String,default:""},groupKey:{type:String,default:"id"},groupText:{type:String,default:"label"},groupItemsKey:{type:String,default:"items"},nestedKey:{type:String,default:"items"},disableCheckMark:{type:Boolean,default:!1},htmlAsText:{type:Boolean,default:!0},ariaLabelledby:{type:String,default:null},id:{type:String,default:null},menuClass:{type:String,default:null},autocomplete:{type:String,default:"off"},isMobile:{type:Boolean,default:!1},width:{type:String,default:null}},data:()=>({isOpen:!0,UpCBottomSheet:()=>Promise.all([n.e(0),n.e(135),n.e(55)]).then(n.bind(null,1049)).then((e=>e.default||e)),UpCDropdownMenuStandard:()=>Promise.all([n.e(0),n.e(137),n.e(57)]).then(n.bind(null,1014)).then((e=>e.default||e)),openedMenus:[],searchTxt:"",isAllGroupsEmpty:!1,message:"",debounce:null}),computed:{multi(){return"multiple"===this.checkableBehavior},component(){return this.isMobile?this.UpCBottomSheet:this.UpCDropdownMenuStandard},hasNoItems(){return!(this.items&&this.items.length||this.groups&&this.groups.length)},watchSearchFilteringData(){const{groups:e,items:t}=this;return{groups:e,items:t}}},watch:{watchSearchFilteringData(){if(this.$refs.menu){const e=this.$refs.menu.items.length;this.$nextTick((()=>{this.filterMessage(e)}))}},searchTxt:{immediate:!0,handler(e,t){this.search&&void 0!==t&&(this.groups.length?this.groups.forEach(((e,t)=>{this.$refs["group-".concat(t)][0].resetMenuActiveMenuIndex()})):this.$refs.menu&&this.$refs.menu.resetMenuActiveMenuIndex())}}},methods:{onSelect(e){"multiple"!==this.checkableBehavior&&this.closing(),this.$emit("select",e)},groupSelect(e){"multiple"!==e.checkableBehavior&&this.closing(),this.$emit("groupSelect",e)},onOpen(e){const t=this.getFlatItems(),n=[];let o={...e};for(;o;){const e=t.find((option=>option[this.itemKey]===o[this.itemKey]));o=e.parent;const menu={...e};delete menu[this.nestedKey],delete menu.parent,n.push(menu)}this.openedMenus=n,this.setOpenProp(this.items,this.openedMenus)},resetOpenedMenu(){this.openedMenus=[],this.setOpenProp(this.items,this.openedMenus),this.resetHoverState(this.items)},resetHoverState(e){e.forEach(((t,n)=>{t.hover=!1,this.$set(e,n,t),Array.isArray(t[this.nestedKey])&&this.resetHoverState(t[this.nestedKey])}))},setOpenProp(e,t){e.forEach(((n,o)=>{n.isOpened=Boolean(t.find((option=>option[this.itemKey]===n[this.itemKey]))),this.$set(e,o,n),Array.isArray(n[this.nestedKey])&&this.setOpenProp(n[this.nestedKey],t)}))},getFlatItems(){const e=JSON.parse(JSON.stringify(this.items)),t=[];for(;e.length;){const n=e.pop();if(Array.isArray(n[this.nestedKey])){const t=n[this.nestedKey].map((e=>{const t=e;return t.parent=n,t}));e.push(...t)}t.push(n)}return t},openParentMenu(){this.$refs.menu&&(this.$refs.menu.$el.scrollTop=0);const e=this.getFlatItems().find((option=>option[this.itemKey]===this.openedMenus[0][this.itemKey]));if(e.parent){const t={...e.parent};delete t[this.nestedKey],delete t.parent,this.onOpen(t)}else this.resetOpenedMenu()},onGroupUpdated(e){let t=!0;this.groups.length&&(this.groups.forEach(((e,n)=>{this.$refs["group-".concat(n)][0].hasMenuItems&&(t=!1)})),this.isAllGroupsEmpty=t),this.filterMessage(e)},onClose(e){this.$emit("close",e),this.resetOpenedMenu(),this.closing()},onSearch(e){this.searchTxt=e,this.$emit("search",e)},onInputFocused(){this.groups.length?this.groups.forEach(((e,t)=>{this.$refs["group-".concat(t)][0].resetIndex()})):this.$refs.menu.resetIndex()},onMenuLoaded(){this.$emit("menu-loaded")},onBottomSheetOpen(){this.search&&this.isMobile&&this.onFocusInput()},getActiveGroupIndex(){let e=0;for(let i=this.groups.length-1;i>=0;i-=1)if(Array.isArray(this.groups[i][this.groupItemsKey])){if(this.groups[i][this.groupItemsKey].some((e=>e.isChecked))){e=i;break}}return e},setMenuFocus(e,t){if(this.groups.length)if(35===e)this.onFocusGroupEnd();else if(40===e||9===e){const n=this.getActiveGroupIndex();if(this.$refs["group-".concat(n)][0].hasMenuItems)this.$refs["group-".concat(n)][0].setMenuFocus(e),t&&t.preventDefault();else{let n=!1;for(let i=0;i<this.groups.length;i+=1)if(this.$refs["group-".concat(i)][0].hasMenuItems){this.$refs["group-".concat(i)][0].setMenuFocus(e),t&&t.preventDefault(),n=!0;break}9===e&&this.search&&!n&&this.onClose()}}else this.onFocusGroupHome();else switch(e){case 40:this.$refs.menu.onMenuFocus();break;case 36:this.$refs.menu.onHomeOption();break;case 35:this.$refs.menu.onEndOption()}},onFocusGroup(e,t,n){if(t)if(0===e&&this.search)this.onFocusInput(),n&&n.preventDefault();else{let t=!1;for(let i=e-1;i>=0;i-=1)if(this.$refs["group-".concat(i)][0].hasMenuItems){this.$refs["group-".concat(i)][0].setMenuFocus(35),n&&n.preventDefault(),t=!0;break}!t&&this.search&&(this.onFocusInput(),n&&n.preventDefault())}else{let t=!1;for(let i=e+1;i<this.groups.length;i+=1)if(this.$refs["group-".concat(i)][0].hasMenuItems){this.$refs["group-".concat(i)][0].setMenuFocus(36),n&&n.preventDefault(),t=!0;break}t||(n?this.onClose():this.$refs["group-".concat(e)][0].setMenuFocus(35))}},onFocusGroupHome(){if(this.$refs["group-0"][0].hasMenuItems)this.$refs["group-0"][0].setMenuFocus(36);else for(let e=1;e<this.groups.length;e+=1)if(this.$refs["group-".concat(e)][0].hasMenuItems){this.$refs["group-".concat(e)][0].setMenuFocus(36);break}},onFocusGroupEnd(){const e=this.groups.length-1;if(this.$refs["group-".concat(e)][0].hasMenuItems)this.$refs["group-".concat(e)][0].setMenuFocus(35);else for(let i=this.groups.length-1;i>=0;i-=1)if(this.$refs["group-".concat(i)][0].hasMenuItems){this.$refs["group-".concat(i)][0].setMenuFocus(35);break}},onFocusInput(){this.isOpen&&this.$refs.input.setFocus()},closing(){this.isOpen=!1},filterMessage(e){if(this.search){let t=0;this.groups.length>0?this.groups.forEach(((e,n)=>{const o=this.$refs["group-".concat(n)][0];o&&o.hasMenuItems&&(t+=o.totalSearchResults)})):t=e,clearTimeout(this.debounce);const n=t>0?this.$tc("vc_ResultsFiltered",t,{results:t}):null;this.debounce=setTimeout((()=>this.broadcastSRMessage(n)),1e3)}},broadcastSRMessage(e){this.message=e,this.$emit("filter-message",e),setTimeout((()=>{this.message=""}),1e3)}}},B=L,K=Object(f.a)(B,(function(){var e=this,t=e._self._c;return t(e.component,{tag:"component",attrs:{open:e.isOpen,title:e.title,multi:e.multi,classes:{"has-min-height":e.search||e.isNested,"air3-dropdown-menu":e.isMobile,"is-natural-width":"natural"===e.width},"aria-labelledby":"dropdown-title-".concat(e.id)},on:{open:e.onBottomSheetOpen,"bottom-sheet-closed":e.onClose,close:e.onClose}},[t("div",{staticClass:"air3-dropdown-header-container",class:{"has-search":e.search}},[e.isMobile?t("UpCDropdownMobileHeader",{attrs:{id:"dropdown-title-".concat(e.id),title:e.openedMenus.length?e.openedMenus[0][e.itemText]:e.title,multi:e.multi,"is-nested-menu-opened":!!e.openedMenus.length},on:{close:e.closing,back:e.openParentMenu}}):e._e(),e._v(" "),e.search?t("UpCDropdownSearch",{ref:"input",attrs:{placeholder:e.searchPlaceholder,label:e.searchLabel,loading:e.loading,"has-empty-list":e.hasNoItems,"controls-id":"dropdown-menu-".concat(e.id),autocomplete:e.autocomplete,"is-mobile":e.isMobile},on:{search:e.onSearch,"focus-menu":e.setMenuFocus,"input-focused":e.onInputFocused,close:e.onClose}}):e._e()],1),e._v(" "),e.items&&!e.groups.length?t("UpCMenu",{ref:"menu",class:[e.menuClass],attrs:{id:"dropdown-menu-".concat(e.id),"aria-labelledby":e.ariaLabelledby,items:e.items,"sort-menu-items":e.sortMenuItems,"checkable-behavior":e.checkableBehavior,search:e.search,loading:e.loading,"item-key":e.itemKey,"item-text":e.itemText,"item-link":e.itemLink,"item-sublabel":e.itemSublabel,"nested-key":e.nestedKey,"disable-check-mark":e.disableCheckMark,"html-as-text":e.htmlAsText,"is-mobile":e.isMobile},on:{"focus-input":e.onFocusInput,"menu-loaded":e.onMenuLoaded,"menu-updated":e.filterMessage,select:e.onSelect,open:e.onOpen,close:e.onClose},scopedSlots:e._u([e.$slots["no-result-icon"]?{key:"no-result-icon",fn:function(){return[e._t("no-result-icon")]},proxy:!0}:null,e.$slots["no-result-text"]?{key:"no-result-text",fn:function(){return[e._t("no-result-text")]},proxy:!0}:null,e.$slots["menu-decoration"]?{key:"menu-decoration",fn:function(){return[e._t("menu-decoration")]},proxy:!0}:null],null,!0)}):e._e(),e._v(" "),e.groups&&e.groups.length?t("div",{staticClass:"air3-group-container",class:{[e.menuClass]:!!e.menuClass,"has-search":e.search}},e._l(e.groups,(function(n,o){return t("UpCGroup",{key:n[e.groupKey],ref:"group-"+o,refInFor:!0,attrs:{id:n[e.groupKey],"aria-labelledby":e.ariaLabelledby,index:o,items:n[e.groupItemsKey],title:n[e.groupText],"item-key":e.itemKey,"item-link":e.itemLink,"item-text":e.itemText,"item-sublabel":e.itemSublabel,search:e.search,"checkable-behavior":n.checkableBehavior,"is-all-groups-empty":e.isAllGroupsEmpty,"is-mobile":e.isMobile,"group-dividers":e.groupDividers},on:{"focus-group":e.onFocusGroup,"focus-group-home":e.onFocusGroupHome,"focus-group-end":e.onFocusGroupEnd,"group-select":e.groupSelect,"group-updated":e.onGroupUpdated,"menu-loaded":e.onMenuLoaded,close:e.onClose}})})),1):e._e(),e._v(" "),t("div",{staticClass:"sr-only",attrs:{"aria-live":"polite"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e._v(" "),e.isMobile&&e.multi?t("UpCDropdownMobileFooter",{on:{close:e.closing}}):e._e()],1)}),[],!1,null,null,null);t.default=K.exports},124:function(e,t,n){"use strict";var o={},r=n(8),component=Object(r.a)(o,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true",viewBox:"0 0 24 24",role:"img"}},[e("path",{attrs:{"vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"1.5",d:"M4 4l16 16m0-16L4 20"}})])}),[],!1,null,null,null);t.a=component.exports},163:function(e,t,n){"use strict";var o={},r=n(8),component=Object(r.a)(o,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true",viewBox:"0 0 24 24",role:"img"}},[e("path",{attrs:{"vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"1.5",d:"M21 11.754H3M10.477 4L3 11.754l7.477 7.477"}})])}),[],!1,null,null,null);t.a=component.exports},291:function(e,t,n){"use strict";var o={},r=n(8),component=Object(r.a)(o,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true",viewBox:"0 0 24 24",role:"img"}},[e("path",{attrs:{"vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"1.5",d:"M10.688 18.377a7.688 7.688 0 100-15.377 7.688 7.688 0 000 15.377zm5.428-2.261L21 21"}})])}),[],!1,null,null,null);t.a=component.exports},472:function(e){e.exports=JSON.parse("{}")},473:function(e){e.exports=JSON.parse('{"vc_GoBack":"Go Back","vc_CloseTheListbox":"Close the listbox"}')},474:function(e){e.exports=JSON.parse("{}")},475:function(e){e.exports=JSON.parse("{}")},476:function(e){e.exports=JSON.parse('{"vc_NoResultsFound_1":"No results found","vc_Selected_2":"selected"}')},477:function(e){e.exports=JSON.parse("{}")},504:function(e,t,n){"use strict";n.r(t);var menu=n(228),o=n.n(menu),r=n(281),l=n.n(r);class c{constructor(e,t){this.supportInlineHeader=e,this.onChangeIndex=t,this.itemList=[],this.index=-1}setItemList(e){this.itemList=e}setInlineHeader(e){this.supportInlineHeader=e}detectActiveItem(){this.resetIndex(),this.itemList.every(((e,t)=>(e.isChecked&&!this.isHeader(e)&&this.setIndex(t),!0)))}resetIndex(){this.setIndex(-1)}getIndex(){return this.index}setIndex(e){this.index=e,this.onChangeIndex(this.index)}scan(e){const t=e?1:-1;let{index:n}=this;if(e){for(;n<this.itemList.length-1;)if(n+=t,!this.isHeader(this.itemList[n]))return this.setIndex(n),!0}else for(;n>0;)if(n+=t,!this.isHeader(this.itemList[n]))return this.setIndex(n),!0;return!1}isHeader(e){return!(!this.supportInlineHeader||!e.isHeader)}}var h={"en-gb":n(475),en:n(476),is:n(477)};var d={injectStyles:[o.a],name:"UpCMenu",components:{UpCMenuCheckboxItem:()=>Promise.all([n.e(13),n.e(145),n.e(102)]).then(n.bind(null,1064)),UpCIcon:()=>Promise.resolve().then(n.bind(null,122))},i18n:{messages:h},props:{items:{type:Array,default:()=>[]},sortMenuItems:{type:Boolean,default:!1},search:{type:Boolean,default:!1},nested:{type:Boolean,default:!1},inlineHeader:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},showNoResults:{type:Boolean,default:!1},itemLink:{type:String,default:""},itemKey:{type:String,default:"id"},itemText:{type:String,default:"label"},itemSublabel:{type:String,default:""},nestedKey:{type:String,default:"items"},checkableBehavior:{type:String,validator:e=>["single","multiple","none"].includes(e),default:"none"},htmlAsText:{type:Boolean,default:!0},sanitizeHtml:{type:Boolean,default:!0},mixed:{type:Boolean,default:!1},disableCheckMark:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},id:{type:String,default:null},ariaLabelledby:{type:String,default:null},horizontalMenu:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},data:()=>({chevronRightIcon:()=>n.e(67).then(n.bind(null,1065)),checkIcon:()=>n.e(65).then(n.bind(null,168)),questionCircleIcon:()=>n.e(37).then(n.bind(null,1048)),activeIndex:-1}),computed:{sortedItems(){return this.sortMenuItems?(e=this.items,t=this.$i18n.locale,n=this.itemText,[...e].sort(((e,o)=>{let[r,l]=[e,o];return n&&([r,l]=[e[n],o[n]]),new Intl.Collator(t,{numeric:!0,caseFirst:!1}).compare(r,l)}))):this.items;var e,t,n},multi(){return"multiple"===this.checkableBehavior},single(){return"single"===this.checkableBehavior},isNonCheckable(){return"none"===this.checkableBehavior},showMenuDecoration(){return this.$slots["menu-decoration"]},hasNoResults(){return(this.search||this.showNoResults)&&(!this.items||!this.items.length)&&!this.loading}},watch:{items:{deep:!0,handler(e,t){(t||e&&e.length)&&(t&&t.length!==e.length&&this.$emit("menu-updated",e.filter((e=>!e.isHeader)).length),this.updateNavigationItems())}},loading(){this.search&&this.getNavigation().resetIndex()},inlineHeader(){this.getNavigation().setInlineHeader(this.inlineHeader),this.updateNavigationItems()},isOpen:{handler(e){e&&this.setMenuFocus()}}},beforeMount(){this.updateNavigationItems(),this.search&&this.getNavigation().resetIndex()},mounted(){this.getNavigation().detectActiveItem(),this.$emit("menu-loaded")},updated(){!this.isMobile&&this.getActiveIndex()>=0&&this.setMenuFocus()},methods:{getListItemComponent(e){return e[this.itemLink]?"a":"span"},setFocus(){const e=this.isMobile&&!!this.items.find((i=>i.isChecked));this.search&&this.getActiveIndex()<0&&!e&&!this.mixed?this.setInputFocus():!this.isMobile&&this.getActiveIndex()>=0&&this.setMenuFocus()},setInputFocus(){this.$emit("focus-input")},setMenuFocus(){const e=this.getActiveIndex();e>=0&&this.sortedItems[e]?this.sortedItems[e].isOpened||this.$refs["item-".concat(e)][0].focus():this.$refs["item-0"]&&this.$refs["item-0"].length&&!this.isNonCheckable&&this.$refs["item-0"][0].focus()},resetIndex(){this.items.forEach(((e,t)=>{e.isOpened=!1,this.$set(this.items,t,e),e[this.nestedKey]&&e[this.nestedKey].length&&this.$refs["menu-".concat(t)][0].resetIndex()})),this.resetMenuActiveMenuIndex()},resetMenuActiveMenuIndex(){this.getNavigation().resetIndex()},onMenuKeydown(e){switch(e.keyCode){case 40:this.nested&&e.stopPropagation(),this.mixed&&this.activeIndex===this.items.length-1?this.mixed&&(this.resetIndex(),this.$nextTick((()=>{this.moveToNextGroup()}))):this.selectNextItem(),e.preventDefault();break;case 38:this.nested&&e.stopPropagation(),0!==this.activeIndex&&this.activeIndex!==this.getFirstItemIndex()?this.selectPreviousItem():this.mixed?(this.resetIndex(),this.$nextTick((()=>{this.moveToNextGroup(!0)}))):this.search?this.resetIndex():this.$emit("menu-focus-up"),e.preventDefault();break;case 39:e.stopPropagation(),this.onPageRight(),e.preventDefault();break;case 37:e.stopPropagation(),this.onPageLeft(),e.preventDefault();break;case 9:e.shiftKey?0===this.activeIndex&&(this.mixed?(this.resetIndex(),this.$nextTick((()=>{this.moveToNextGroup(!0,e)}))):this.search||this.resetIndex()):this.activeIndex===this.items.length-1&&this.mixed?(this.resetIndex(),this.$nextTick((()=>{this.moveToNextGroup(!1,e)}))):this.activeIndex===this.items.length-1&&this.$emit("close-sub-menu");break;case 27:e.stopPropagation(),this.onClose(),e.preventDefault();break;case 13:case 32:e.stopPropagation(),this.onEnter(),e.preventDefault();break;case 36:e.stopPropagation(),this.mixed?(this.resetIndex(),this.$nextTick((()=>{this.$emit("focus-group-home")}))):this.onHomeOption(),e.preventDefault();break;case 35:e.stopPropagation(),this.mixed?(this.resetIndex(),this.$nextTick((()=>{this.$emit("focus-group-end")}))):this.onEndOption(),e.preventDefault()}},moveToNextGroup(e,t){this.$emit("focus-group",e,t)},getActiveIndex(){return this.activeIndex},setActiveIndex(e){this.getNavigation().setIndex(e)},selectPreviousItem(){this.onPageUp()},selectNextItem(){this.onPageDown()},onClose(){this.$emit("close")},onSelect(e){if(e.disabled)return;const{activeIndex:t}=this;e[this.nestedKey]?this.isMobile?(this.$refs.menuContainer.scrollTop=0,this.$emit("open",e)):this.onPageRight():(this.getNavigation().isHeader(e)||this.$emit("select",e),this.$nextTick((()=>{this.setActiveIndex(t)})))},onEnter(){this.sortedItems[this.activeIndex]&&this.onSelect(this.sortedItems[this.activeIndex],!0)},sanitizedHtml(){return this.sanitizeHtml&&!this.htmlAsText&&this.items.forEach((e=>{e.sanitized||(e[this.itemText]=l.a.sanitize(e[this.itemText]),e[this.itemSublabel]=l.a.sanitize(e[this.itemSublabel]),e.sanitized=!0)})),this.items},onPageUp(){this.getNavigation().scan(!1)&&this.scrollToOption(!1)},onPageDown(){this.getNavigation().scan(!0)&&this.scrollToOption(!0)},onPageRight(){const e=this.sortedItems[this.activeIndex],{activeIndex:t}=this;if(e&&this.hasChildItem(e)){const n=this.items.indexOf(e);e.isOpened=!0,this.$set(this.items,n,e),this.$nextTick((()=>{this.setActiveIndex(t)})),this.items.forEach(((t,n)=>{t[this.itemKey]!==e[this.itemKey]&&((t.hover||t.isOpened)&&t[this.nestedKey]&&this.$refs["menu-".concat(n)][0].resetIndex(),t.isOpened=!1,t.hover=!1,this.$set(this.items,n,t))})),setTimeout((()=>{this.$refs["item-".concat(t)][0].querySelector("li").focus()}),0)}},onPageLeft(){this.$el.parentNode.classList.contains("air3-menu-item")&&(this.getNavigation().resetIndex(),setTimeout((()=>{this.$el.parentNode.closest("ul").focus()}),0))},onCloseSubMenu(e){e.isOpened=!1},onMenuFocus(){if(!this.items.length)return;this.activeIndex<0&&this.getNavigation().detectActiveItem();const{activeIndex:e}=this,t=this.sortedItems[this.activeIndex];if(this.activeIndex>=0&&(t.isOpened||!this.nested)){t.isOpened=!1;const n=this.items.indexOf(t);this.$set(this.items,n,t),this.$nextTick((()=>{this.setActiveIndex(e)})),setTimeout((()=>{this.$el.focus()}),0)}else this.activeIndex<0&&this.setActiveIndex(this.getFirstItemIndex())},onMenuItemFocus(e){this.getActiveIndex()!==e&&this.setActiveIndex(e)},onHomeOption(){this.items.length&&(this.setActiveIndex(this.getFirstItemIndex()),this.scrollToOption())},onEndOption(){this.items.length&&(this.setActiveIndex(this.items.length-1),this.scrollToOption(!0))},onMouseEnter(e){const{activeIndex:t}=this;!this.hasChildItem(e)||this.isMobile||e.disabled||(this.items.forEach(((t,n)=>{t[this.itemKey]===e[this.itemKey]?(t.hover=!0,this.$set(this.items,n,t)):t[this.nestedKey]&&t[this.nestedKey].length&&((t.hover||t.isOpened)&&t[this.nestedKey]&&this.$refs["menu-".concat(n)][0].resetIndex(),t.isOpened=!1,this.$set(this.items,n,t))})),this.$nextTick((()=>{this.setActiveIndex(t)})))},onMouseLeave(e){const{activeIndex:t}=this;!this.hasChildItem(e)||this.isMobile||e.disabled||(this.items.forEach(((t,n)=>{t[this.itemKey]===e[this.itemKey]&&((t.hover||t.isOpened)&&t[this.nestedKey]&&this.$refs["menu-".concat(n)][0].resetIndex(),t.hover=!1,t.isOpened=!1,this.$set(this.items,n,t))})),this.$nextTick((()=>{this.setActiveIndex(t)})))},scrollToOption(e){const t=this.mixed&&this.$el.parentElement?this.$el.parentElement.parentElement.parentElement:this.$el.parentElement;if(t){const n=this.search?t.querySelector(".air3-input-group"):null,option=this.$refs["item-".concat(this.activeIndex)][0].closest("li, a"),o=t.scrollTop+t.offsetHeight,r=option.offsetTop+option.offsetHeight;e&&o<r?t.scrollTop=r-t.offsetHeight:e||(!this.search&&t.scrollTop>option.offsetTop?t.scrollTop=option.offsetTop:this.search&&t.scrollTop+n.offsetHeight>option.offsetTop&&(t.scrollTop=option.offsetTop-n.offsetHeight))}},checkChildSelected(e){const t=e=>e.reduce(((e,n)=>e.concat(n.isChecked).concat(t(n[this.nestedKey]||[]))),[]);return!!t([e]).find((option=>option))},getSelectedLabels(e){const t=e=>e.reduce(((e,n)=>e.concat(n.isChecked).concat(t(n[this.nestedKey]||[]))),[]),n=t([e]),o=e=>e.reduce(((e,t)=>e.concat(t[this.itemText]).concat(o(t[this.nestedKey]||[]))),[]);return o([e]).filter(((label,e)=>n[e])).join(", ")},isShowingSubChild(e){return this.checkChildSelected(e)&&this.hasChildItem(e)},hasChildItem(e){return e[this.nestedKey]&&e[this.nestedKey].length},updateNavigationItems(){this.sanitizedHtml(),this.getNavigation().setItemList(this.sortedItems)},getFirstItemIndex(){let e=-1;return this.items.every(((t,n)=>(t.isHeader&&this.inlineHeader||(e=n),e<0))),e},getNavigation(){return this.navigation||(this.navigation=new c(this.inlineHeader,(e=>{this.activeIndex=e}))),this.navigation}}},m=n(8),component=Object(m.a)(d,(function(){var e=this,t=e._self._c;return t("div",{ref:"menuContainer",staticClass:"air3-menu-container",attrs:{"data-test":"menu-container","data-ev-sublocation":"!menu"},on:{keydown:function(t){return e.onMenuKeydown(t)}}},[t("ul",{directives:[{name:"show",rawName:"v-show",value:!e.hasNoResults,expression:"!hasNoResults"}],ref:"list",staticClass:"air3-menu-list",class:{"air3-nested-menu":e.nested,"air3-horizontal-menu":e.horizontalMenu,"air3-menu-list-multi":e.multi,"has-search":e.search},attrs:{id:e.id,"aria-labelledby":e.ariaLabelledby,role:e.isNonCheckable?void 0:"listbox","aria-multiselectable":e.multi?"true":void 0,tabindex:"-1","data-test":"menu"},on:{focus:function(t){return e.onMenuFocus()}}},e._l(e.sortedItems,(function(n,o){return t("li",{key:n[e.itemKey],ref:"item-"+o,refInFor:!0,class:{"is-active":n.isChecked,"is-focused":o===e.activeIndex&&!e.isMobile,"is-open":n.isOpened,"is-hover":n.hover||n.isOpened,"is-uncheckable":e.isNonCheckable||e.hasChildItem(n)||e.disableCheckMark,"is-disabled":n.disabled,"air3-nested-menu-list":e.hasChildItem(n),"air3-multi-select":e.multi,"air3-dropdown-menu-header":e.getNavigation().isHeader(n),"air3-menu-item":!e.getNavigation().isHeader(n),[n.customClass]:n.customClass},attrs:{role:e.isNonCheckable?void 0:"option","aria-selected":e.isNonCheckable?void 0:n.isChecked?"true":"false",tabindex:!e.getNavigation().isHeader(n)&&"0","aria-disabled":n.disabled},on:{mouseenter:function(t){return e.onMouseEnter(n)},mouseleave:function(t){return e.onMouseLeave(n)},click:function(t){return t.preventDefault(),t.stopPropagation(),e.onSelect(n)},focus:function(t){return e.onMenuItemFocus(o)}}},[e.multi&&!e.hasChildItem(n)?t("UpCMenuCheckboxItem",{attrs:{item:{text:n[e.itemText],subLabel:n[e.itemSublabel],htmlAsText:e.htmlAsText,...n}}},[t("UpCIcon",{attrs:{slot:"checkIcon",icon:e.checkIcon,size:"sm"},slot:"checkIcon"}),e._v(" "),n.suffixIcon?t("UpCIcon",{staticClass:"air3-menu-item-icon",attrs:{slot:"suffixIcon",icon:n.suffixIcon},slot:"suffixIcon"}):e._e()],1):e._e(),e._v(" "),n.isChecked&&e.single&&!e.disableCheckMark?t("UpCIcon",{staticClass:"air3-menu-check-icon",attrs:{size:e.isMobile?"md":"sm",icon:e.checkIcon}}):e._e(),e._v(" "),n.iconImport?t("UpCIcon",{staticClass:"air3-menu-item-icon",attrs:{size:e.isMobile?"md":"sm",icon:n.iconImport}}):e._e(),e._v(" "),!e.multi||e.hasChildItem(n)?t(e.getListItemComponent(n),{tag:"component",staticClass:"air3-menu-item-text",attrs:{href:n[e.itemLink],role:e.isNonCheckable&&!n[e.itemLink]?"button":void 0,tabindex:n[e.itemLink]?-1:void 0,"data-ev-label":"menu_item"}},[e.htmlAsText?t("span",[e._v("\n          "+e._s(n[e.itemText])+"\n        ")]):t("span",{domProps:{innerHTML:e._s(n[e.itemText])}}),e._v(" "),e.itemSublabel&&!e.htmlAsText?t("span",{staticClass:"air3-menu-item-subtext",domProps:{innerHTML:e._s(n[e.itemSublabel])}}):e._e(),e._v(" "),e.itemSublabel&&e.htmlAsText?t("span",{staticClass:"air3-menu-item-subtext"},[e._v("\n          "+e._s(n[e.itemSublabel])+"\n        ")]):e._e(),e._v(" "),e.isShowingSubChild(n)?t("span",{staticClass:"air3-menu-item-subtext"},[e._v("\n          "+e._s(e.getSelectedLabels(n))+"\n        ")]):e._e(),e._v(" "),n.isChecked&&e.single?t("span",{staticClass:"sr-only"},[e._v("\n          "+e._s(e.$t("vc_Selected_2"))+"\n        ")]):e._e()]):e._e(),e._v(" "),e.hasChildItem(n)?t("UpCIcon",{staticClass:"air3-nested-menu-item-icon",class:{"air3-active-parent-item":e.checkChildSelected(n)},attrs:{size:e.isMobile?"md":"sm",icon:e.chevronRightIcon}}):e._e(),e._v(" "),e.hasChildItem(n)?t("UpCMenu",{ref:"menu-"+o,refInFor:!0,attrs:{items:n[e.nestedKey],nested:!0,"checkable-behavior":e.checkableBehavior,"item-key":e.itemKey,"item-link":e.itemLink,"item-text":e.itemText,"nested-key":e.nestedKey,"item-sublabel":e.itemSublabel,"is-mobile":e.isMobile,"aria-labelledby":e.ariaLabelledby},on:{close:e.onClose,select:e.onSelect,open:e.onSelect,"close-sub-menu":function(t){return e.onCloseSubMenu(n)}}}):e._e()],1)})),0),e._v(" "),t("div",{attrs:{role:"alert"}},[e.hasNoResults?t("div",{staticClass:"air3-result-feedback",attrs:{"data-test":"menu-results-feedback"}},[e._t("no-result-icon",(function(){return[t("UpCIcon",{attrs:{size:"sm",icon:e.questionCircleIcon}})]})),e._v(" "),t("span",{staticClass:"air3-result-feedback-text"},[e._t("no-result-text",(function(){return[t("span",[e._v(e._s(e.$t("vc_NoResultsFound_1")))])]}))],2)],2):e._e()]),e._v(" "),e.showMenuDecoration?t("div",{staticClass:"air3-menu-decoration",attrs:{id:e.id&&"menu-decoration-".concat(e.id)}},[e._t("menu-decoration")],2):e._e()])}),[],!1,null,null,null);t.default=component.exports},615:function(e,t,n){"use strict";n.r(t);var o=n(138),r=n.n(o),l=n(591),c=n.n(l),h=n(122),d=n(163),m=n(124),f={"en-gb":n(472),en:n(473),is:n(474)},v={injectStyles:[r.a,c.a],name:"UpCDropdownMobileHeader",components:{UpCIcon:h.default},i18n:{messages:f},props:{title:{default:"",type:String},isNestedMenuOpened:{type:Boolean,default:!1},hideClose:{type:Boolean,default:!1},id:{type:String,default:null}},data:()=>({closeIcon:m.a,arrowLeftIcon:d.a}),computed:{shouldShowCloseIcon(){const e=!this.hideClose,t=!this.isNestedMenuOpened;return e&&t}},methods:{back(){this.$emit("back")},close(){this.$emit("close")}}},x=n(8),component=Object(x.a)(v,(function(){var e=this,t=e._self._c;return t("div",e._g({staticClass:"air3-dropdown-header"},e.$listeners),[e.isNestedMenuOpened?t("button",{staticClass:"air3-dropdown-back-btn",attrs:{type:"button"},on:{click:e.back}},[t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("vc_GoBack")))]),e._v(" "),t("UpCIcon",{attrs:{icon:e.arrowLeftIcon}})],1):e._e(),e._v(" "),t("h2",{staticClass:"air3-dropdown-title ellipsis h3",class:{"text-center":e.isNestedMenuOpened},attrs:{id:e.id,"data-test":"dropdown-title"}},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),e.shouldShowCloseIcon?t("button",{staticClass:"air3-dropdown-close-btn",attrs:{"data-test":"dropdown-close",type:"button"},on:{click:e.close}},[t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("vc_CloseTheListbox")))]),e._v(" "),t("UpCIcon",{attrs:{icon:e.closeIcon}})],1):e._e()])}),[],!1,null,null,null);t.default=component.exports},878:function(e){e.exports=JSON.parse("{}")},879:function(e){e.exports=JSON.parse('{"vc_Done_6":"Done"}')},880:function(e){e.exports=JSON.parse("{}")},883:function(e){e.exports=JSON.parse("{}")},884:function(e){e.exports=JSON.parse('{"vc_Search":"Search"}')},885:function(e){e.exports=JSON.parse("{}")}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/FreelancerOnboardingNuxt/air3-dropdown-menu.6ac40468.js.map